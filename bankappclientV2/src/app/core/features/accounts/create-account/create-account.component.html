<div class="create-account-container">
  <h2>Create New Bank Account</h2>

  <form [formGroup]="accountForm" (ngSubmit)="submit()" class="form">
    <div class="form-row">
      <div class="form-field">
        <label for="name" class="form-label">
          Full Name
          <span class="required">*</span>
        </label>
        <input id="name" class="form-input" formControlName="name" placeholder="Enter name" />
        <span class="form-error" *ngIf="accountForm.get('name')?.touched && accountForm.get('name')?.invalid">
          Name is required
        </span>
      </div>

      <div class="form-field">
        <label for="email" class="form-label">
          Email
          <span class="required">*</span>
        </label>
        <input id="email" class="form-input" formControlName="email" placeholder="Enter email" />
        <span class="form-error" *ngIf="accountForm.get('email')?.touched && accountForm.get('email')?.errors?.['required']">
          Email is required
        </span>
        <span class="form-error" *ngIf="accountForm.get('email')?.touched && accountForm.get('email')?.errors?.['email']">
          Enter a valid email
        </span>
        <span class="form-error" *ngIf="accountForm.get('email')?.errors?.['serverError']">
          {{ accountForm.get('email')?.errors?.['serverError'] }}
        </span>
      </div>
    </div>

    <div class="form-row">
      <div class="form-field">
        <label for="phone" class="form-label">
          Phone
          <span class="required">*</span>
        </label>
        <input
          id="phone"
          class="form-input"
          formControlName="phone"
          placeholder="10-digit phone number" />
        <span class="form-error" *ngIf="accountForm.get('phone')?.touched && accountForm.get('phone')?.errors?.['required']">
          Phone is required
        </span>
        <span class="form-error" *ngIf="accountForm.get('phone')?.touched && accountForm.get('phone')?.errors?.['pattern']">
          Phone must be 10 digits
        </span>
        <span class="form-error" *ngIf="accountForm.get('phone')?.errors?.['serverError']">
          {{ accountForm.get('phone')?.errors?.['serverError'] }}
        </span>
      </div>

      <div class="form-field">
        <label for="balance" class="form-label">
          Initial Balance
          <span class="required">*</span>
        </label>
        <input id="balance" type="number" class="form-input" formControlName="balance" />
        <span class="form-error" *ngIf="accountForm.get('balance')?.touched && accountForm.get('balance')?.errors?.['required']">
          Balance is required
        </span>
        <span class="form-error" *ngIf="accountForm.get('balance')?.touched && accountForm.get('balance')?.errors?.['min']">
          Balance must be 0 or more
        </span>
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="isSubmitting || accountForm.invalid">
      {{ isSubmitting ? 'Creatingâ€¦' : 'Create Account' }}
    </button>
  </form>
</div>
